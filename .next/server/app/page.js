(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(5480),r(2029),r(5866);var s=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"/Users/lemmaitt/workspace/obsidian_vault/docs/03_project/00_thedomainai/neumann/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/lemmaitt/workspace/obsidian_vault/docs/03_project/00_thedomainai/neumann/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/lemmaitt/workspace/obsidian_vault/docs/03_project/00_thedomainai/neumann/src/app/page.tsx"],x="/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2708:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},6135:(e,t,r)=>{Promise.resolve().then(r.bind(r,3472))},9466:()=>{},3472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ec});var s=r(326),a=r(7577);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let x=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:o,...x},u)=>(0,a.createElement)("svg",{ref:u,...c,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:l("lucide",i),...!n&&!d(x)&&{"aria-hidden":"true"},...x},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...s},n)=>(0,a.createElement)(x,{ref:n,iconNode:t,className:l(`lucide-${i(o(e))}`,`lucide-${e}`,r),...s}));return r.displayName=o(e),r},m=u("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),h=u("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),p=u("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),b=u("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),g=u("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),y=({currentView:e,onNavigate:t})=>(0,s.jsxs)("nav",{className:"w-16 flex flex-col items-center py-6 bg-sidebar-bg",children:[s.jsx("div",{className:"mb-8",children:s.jsx(m,{className:"w-8 h-8 text-sidebar-textActive",strokeWidth:1.5})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col space-y-2 w-full px-2",children:[s.jsx(f,{icon:s.jsx(h,{size:20}),active:"dashboard"===e,onClick:()=>t("dashboard"),tooltip:"ダッシュボード"}),s.jsx(f,{icon:s.jsx(p,{size:20}),active:"editor"===e,onClick:()=>t("editor"),tooltip:"レポート確認"}),s.jsx(f,{icon:s.jsx(b,{size:20}),active:"data-entry"===e,onClick:()=>t("data-entry"),tooltip:"データ入力"}),s.jsx(f,{icon:s.jsx(g,{size:20}),active:"settings"===e,onClick:()=>t("settings"),tooltip:"設定"})]}),s.jsx("div",{className:"mt-auto",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-sidebar-active flex items-center justify-center text-xs font-mono text-sidebar-textActive",children:"N"})})]}),f=({icon:e,active:t,onClick:r,disabled:a,tooltip:i})=>s.jsx("button",{onClick:r,disabled:a,title:i,className:`w-full p-3 flex justify-center rounded-lg transition-all ${t?"text-sidebar-textActive bg-sidebar-active":"text-sidebar-text hover:text-sidebar-textActive hover:bg-sidebar-hover"} ${a?"opacity-40 cursor-not-allowed":""}`,children:e});u("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);let v=u("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);u("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);let j=u("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),k=u("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),w=u("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),N=u("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),M={critical:"border-l-severity-critical-text",warning:"border-l-severity-warning-text",healthy:"border-l-severity-success-text"},_={critical:"text-severity-critical-text",warning:"text-severity-warning-text",healthy:"text-severity-success-text"},A=({data:e,level:t=0,onSelect:r})=>{let[i,n]=(0,a.useState)(!0),o=M[e.status],l=_[e.status];return(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsxs)("div",{className:`
          flex items-center py-2 px-3 mb-1 rounded cursor-pointer transition-all
          ${e.isTarget?"bg-background-layer3 border border-border-default":"hover:bg-background-layer3"}
          border-l-2 ${o}
        `,onClick:()=>r(e),children:[s.jsx("div",{className:"mr-2 text-foreground-muted hover:text-foreground-primary",onClick:e=>{e.stopPropagation(),n(!i)},children:e.children?i?s.jsx(w,{size:14}):s.jsx(N,{size:14}):s.jsx("span",{className:"w-[14px]"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-mono text-sm font-medium text-foreground-primary",children:e.label}),s.jsx("span",{className:`font-mono text-xs ${l}`,children:e.value})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("span",{className:"text-xs text-foreground-muted",children:e.owner}),e.ambiguityScore>10&&(0,s.jsxs)("span",{className:"text-[10px] text-severity-warning-text font-mono bg-severity-warning-bg border border-severity-warning-border px-1.5 py-0.5 rounded",children:["AMB_SCORE: ",e.ambiguityScore]})]})]})]}),i&&e.children&&s.jsx("div",{className:"border-l border-border-subtle ml-2 pl-2",children:e.children.map(e=>s.jsx(A,{data:e,level:t+1,onSelect:r},e.id))})]})},C=({kpiData:e,onNavigate:t})=>(0,s.jsxs)("div",{className:"h-full flex flex-col p-6 overflow-hidden",children:[(0,s.jsxs)("header",{className:"mb-8",children:[(0,s.jsxs)("h2",{className:"text-2xl font-light text-foreground-primary mb-1 flex items-center",children:[s.jsx(j,{className:"mr-3 text-accent-text"}),"System Observability"]}),(0,s.jsxs)("p",{className:"text-foreground-muted text-sm font-mono",children:["STATUS: ",s.jsx("span",{className:"text-severity-warning-text",children:"DEGRADED"})," | AMBIGUITY LEVEL: HIGH"]})]}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-12 gap-6 overflow-hidden",children:[(0,s.jsxs)("div",{className:"col-span-8 bg-background-layer2 border border-border-default rounded-lg p-4 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-border-subtle",children:[s.jsx("h3",{className:"text-sm font-mono text-foreground-secondary",children:"LOGIC TREE VIEW"}),(0,s.jsxs)("div",{className:"flex space-x-2 items-center",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-severity-critical-text"}),s.jsx("span",{className:"text-[10px] text-foreground-muted",children:"CRITICAL"})]})]}),s.jsx(A,{data:e,onSelect:e=>{e.isTarget&&t("editor")}})]}),s.jsx("div",{className:"col-span-4 flex flex-col gap-4",children:(0,s.jsxs)("div",{className:"bg-background-layer2 border border-border-default rounded-lg p-4 flex-1",children:[s.jsx("h3",{className:"text-sm font-mono text-foreground-secondary mb-4",children:"CRITICAL ANOMALIES"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg cursor-pointer transition-colors group bg-severity-critical-bg border border-severity-critical-border hover:shadow-sm",onClick:()=>t("editor"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("span",{className:"text-xs font-mono text-severity-critical-text",children:"VP of Sales / Ent Sales"}),s.jsx(k,{className:"w-3 h-3 text-severity-critical-text opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsx("p",{className:"text-sm text-foreground-primary mb-2",children:"売上見込みの根拠において、事実と解釈の混同率が45%を超えています。"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("span",{className:"text-[10px] bg-severity-critical-border text-severity-critical-text px-1.5 py-0.5 rounded font-medium",children:"FACT_MIXING"})})]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg bg-severity-warning-bg border border-severity-warning-border",children:[s.jsx("div",{className:"flex justify-between items-start mb-1",children:s.jsx("span",{className:"text-xs font-mono text-severity-warning-text",children:"PdM Group / Product Quality"})}),s.jsx("p",{className:"text-sm text-foreground-primary mb-2",children:"品質報告に数値データが欠落しています。"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("span",{className:"text-[10px] bg-severity-warning-border text-severity-warning-text px-1.5 py-0.5 rounded font-medium",children:"DATA_MISSING"})})]})]})]})})]})]}),S={indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},red:{500:"#ef4444",900:"#7f1d1d"},amber:{500:"#f59e0b",900:"#78350f"},emerald:{500:"#10b981",900:"#064e3b"}},I={background:{base:"var(--color-bg-base)",layer1:"var(--color-bg-layer1)",layer2:"var(--color-bg-layer2)",layer3:"var(--color-bg-layer3)",elevated:"var(--color-bg-elevated)"},sidebar:{bg:"var(--color-sidebar-bg)",text:"var(--color-sidebar-text)",textActive:"var(--color-sidebar-text-active)",hover:"var(--color-sidebar-hover)",active:"var(--color-sidebar-active)",border:"var(--color-sidebar-border)"},text:{primary:"var(--color-text-primary)",secondary:"var(--color-text-secondary)",muted:"var(--color-text-muted)",inverse:"var(--color-text-inverse)"},accent:{primary:"var(--color-primary)",hover:"var(--color-primary-hover)",active:"var(--color-primary)",subtle:"var(--color-primary-light)",text:"var(--color-accent)"},border:{default:"var(--color-border-default)",subtle:"var(--color-border-subtle)",active:"var(--color-border-active)"},severity:{critical:{text:"var(--color-critical-text)",bg:"var(--color-critical-bg)",border:"var(--color-critical-border)"},warning:{text:"var(--color-warning-text)",bg:"var(--color-warning-bg)",border:"var(--color-warning-border)"},info:{text:"var(--color-info-text)",bg:"var(--color-info-bg)",border:"var(--color-info-border)"},success:{text:"var(--color-success-text)",bg:"var(--color-success-bg)",border:"var(--color-success-border)"}}},T={fontFamily:{sans:'"Inter", "Hiragino Sans", "Noto Sans JP", sans-serif',mono:'"JetBrains Mono", "Source Code Pro", monospace'},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem"},fontWeight:{light:"300",normal:"400",medium:"500",bold:"700"}};I.background,I.sidebar,I.text,I.accent,I.border,I.severity,S.indigo,S.slate,T.fontFamily,T.fontSize,T.fontWeight;let z={shallow_analysis:"浅い分析",missing_coverage:"カバレッジ不足",lack_of_quantification:"定量化不足",unclear_action:"アクション不明確",fact_interpretation_mixing:"事実と解釈の混同"},P=({auditLog:e,title:t="曖昧性チェック",className:r=""})=>{let{items:a,openCount:i,score:n,filter:o,setFilter:l,dismiss:d,resolve:c,isProcessing:x}=e;return(0,s.jsxs)("div",{className:`flex flex-col h-full bg-background-layer2 rounded-lg border border-border-default ${r}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-border-default",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-medium text-foreground-primary",children:t}),i>0&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-severity-critical-bg text-severity-critical-text border border-severity-critical-border",children:i})]}),s.jsx(D,{score:n})]}),(0,s.jsxs)("div",{className:"flex gap-2 p-3 border-b border-border-default",children:[s.jsx(L,{active:"open"===o.status,onClick:()=>l({...o,status:"open"}),children:"未解決"}),s.jsx(L,{active:"all"===o.status,onClick:()=>l({...o,status:"all"}),children:"すべて"}),s.jsx(L,{active:"resolved"===o.status,onClick:()=>l({...o,status:"resolved"}),children:"解決済み"})]}),x&&s.jsx("div",{className:"px-3 py-2 bg-accent-subtle border-b border-border-default",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-accent-text",children:[s.jsx($,{}),s.jsx("span",{children:"処理中..."})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===a.length?s.jsx(W,{status:o.status}):a.map(e=>s.jsx(V,{item:e,onDismiss:t=>d(e.id,t),onResolve:()=>c(e.id),disabled:x},e.id))})]})},D=({score:e})=>{let t=function(e){return e>=80?S.emerald[500]:e>=60?S.amber[500]:S.red[500]}(e);return(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:`${t}20`},children:[s.jsx("span",{className:"text-sm font-medium",style:{color:t},children:e}),s.jsx("span",{className:"text-xs text-foreground-secondary",children:"/ 100"})]})},L=({active:e,onClick:t,children:r})=>s.jsx("button",{onClick:t,className:`px-3 py-1 text-sm rounded-md transition-colors ${e?"bg-accent-primary text-foreground-inverse":"bg-background-layer3 text-foreground-secondary hover:text-foreground-primary"}`,children:r}),$=()=>(0,s.jsxs)("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),W=({status:e})=>(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-foreground-muted",children:[s.jsx("svg",{className:"w-12 h-12 mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-sm",children:"open"===e?"未解決の指摘はありません":"resolved"===e?"解決済みの指摘はありません":"指摘はありません"})]}),E=({severity:e})=>"critical"===e?s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):"warning"===e?s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),V=({item:e,onDismiss:t,onResolve:r,disabled:i})=>{let[n,o]=(0,a.useState)(!1),[l,d]=(0,a.useState)(""),c={critical:"text-severity-critical-text bg-severity-critical-bg border-severity-critical-border",warning:"text-severity-warning-text bg-severity-warning-bg border-severity-warning-border",info:"text-severity-info-text bg-severity-info-bg border-severity-info-border",success:"text-severity-success-text bg-severity-success-bg border-severity-success-border"}[e.severity],x="open"===e.status,u=()=>{l.trim()&&(t(l.trim()),o(!1),d(""))},m=()=>{o(!1),d("")};return(0,s.jsxs)("div",{className:`p-4 rounded-xl border-2 transition-all ${x?"bg-background-layer1 border-border-default hover:border-border-active hover:shadow-md":"bg-background-layer2 border-border-subtle opacity-60"} ${i?"pointer-events-none opacity-50":""}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-3",children:[(0,s.jsxs)("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-bold border-2 ${c}`,children:[s.jsx(E,{severity:e.severity}),s.jsx("span",{children:z[e.pattern]})]}),"open"!==e.status&&s.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded ${"resolved"===e.status?"bg-severity-success-bg text-severity-success-text":"bg-background-layer3 text-foreground-muted"}`,children:"resolved"===e.status?"✓ 解決済み":"✗ 却下"})]}),s.jsx("p",{className:"text-base text-foreground-primary mb-3 leading-relaxed",children:e.message}),e.rationale&&s.jsx("div",{className:"mb-3 p-3 bg-background-layer2 rounded-lg border border-border-subtle",children:(0,s.jsxs)("p",{className:"text-sm text-foreground-secondary leading-relaxed",children:[s.jsx("span",{className:"font-medium text-foreground-muted",children:"理由: "}),e.rationale]})}),s.jsx("div",{className:"mb-4 p-3 bg-accent-subtle rounded-lg border border-accent-primary/30",children:(0,s.jsxs)("p",{className:"text-sm text-accent-text leading-relaxed",children:[s.jsx("span",{className:"font-bold",children:"\uD83D\uDCA1 提案: "}),e.suggestion]})}),x&&!n&&(0,s.jsxs)("div",{className:"flex gap-3 pt-2 border-t border-border-subtle",children:[(0,s.jsxs)("button",{onClick:r,disabled:i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold rounded-lg bg-severity-success-bg text-severity-success-text border-2 border-severity-success-border hover:shadow-md hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"解決済みにする"]}),(0,s.jsxs)("button",{onClick:()=>o(!0),disabled:i,className:"flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium rounded-lg bg-background-elevated text-foreground-secondary border-2 border-border-default hover:border-foreground-muted hover:text-foreground-primary hover:shadow-sm active:scale-[0.98] transition-all disabled:opacity-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"却下"]})]}),x&&n&&(0,s.jsxs)("div",{className:"space-y-3 pt-3 border-t border-border-subtle",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground-secondary",children:"却下理由を入力してください"}),s.jsx("input",{type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"例: 別途対応済み、仕様として許容 など",className:"w-full px-4 py-2.5 text-sm rounded-lg bg-background-layer1 border-2 border-border-default text-foreground-primary placeholder:text-foreground-muted focus:outline-none focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&u(),"Escape"===e.key&&m()}}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("button",{onClick:u,disabled:!l.trim()||i,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold rounded-lg bg-severity-warning-bg text-severity-warning-text border-2 border-severity-warning-border hover:shadow-md active:scale-[0.98] transition-all disabled:opacity-50",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"この指摘を却下する"]}),s.jsx("button",{onClick:m,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-background-elevated text-foreground-secondary border-2 border-border-default hover:text-foreground-primary transition-colors",children:"キャンセル"})]})]}),"dismissed"===e.status&&e.dismissReason&&s.jsx("div",{className:"mt-3 p-2 bg-background-layer3 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-foreground-muted",children:[s.jsx("span",{className:"font-medium",children:"却下理由:"})," ",e.dismissReason]})})]})},R=({fileName:e,owner:t,content:r,ambiguityPercent:a,warningLines:i=[],selectedLine:n=null,onLineClick:o,onRunLinter:l,sidePanel:d})=>{let c=new Set(i);return(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("header",{className:"h-14 border-b border-border-default flex items-center justify-between px-6 bg-background-layer2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(p,{className:"text-foreground-muted mr-2",size:18}),s.jsx("span",{className:"text-foreground-primary font-mono text-sm",children:e}),s.jsx("span",{className:"mx-2 text-foreground-muted",children:"/"}),s.jsx("span",{className:"text-foreground-muted text-xs",children:t})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-2 w-24 bg-background-layer3 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-severity-critical-text",style:{width:`${a}%`}})}),(0,s.jsxs)("span",{className:"text-xs font-mono text-severity-critical-text",children:["AMBIGUITY: ",a,"%"]})]}),s.jsx("button",{onClick:l,className:"px-4 py-1.5 text-xs font-mono border rounded transition-colors bg-accent-subtle text-accent-text border-accent-primary/50 hover:bg-accent-primary/20",children:"RUN_LINTER"})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[s.jsx("div",{className:"flex-1 bg-background-layer1 overflow-y-auto p-6",children:r.split("\n").map((e,t)=>{let r=t+1,a=c.has(r),i=n===r;return(0,s.jsxs)("div",{className:`
            group flex font-mono text-sm leading-6 cursor-pointer
            ${a?"bg-severity-critical-bg":""}
            ${i?"bg-severity-critical-bg ring-1 ring-severity-critical-border":""}
            ${a||i?"":"hover:bg-background-layer3"}
          `,onClick:()=>o?.(r),children:[s.jsx("span",{className:"w-8 text-right mr-4 select-none text-foreground-muted",children:r}),s.jsx("span",{className:`
              flex-1
              ${a?"underline decoration-severity-critical-text/50 decoration-wavy underline-offset-4 text-foreground-primary":"text-foreground-secondary"}
              ${e.startsWith("#")?"font-bold text-accent-text":""}
            `,children:e||"\xa0"}),a&&s.jsx("span",{className:"ml-auto mr-2 opacity-0 group-hover:opacity-100 text-severity-critical-text",children:s.jsx(v,{size:14})})]},t)})}),d&&s.jsx("div",{className:"w-96 border-l border-border-default flex flex-col",children:d})]})]})},q=e=>0===e.length?100:Math.max(0,100-e.reduce((e,t)=>"open"!==t.status?e:e+("critical"===t.severity?20:10),0)),B=u("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),G=u("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),H=u("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),U=u("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),O=u("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),F=[{id:"kpi-1",name:"FY2025 全社売上目標",description:"年間売上の達成率",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:80,criticalThreshold:70,createdAt:new Date,updatedAt:new Date},{id:"kpi-2",name:"新規受注額 (ARR)",description:"新規顧客からの年間経常収益",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:85,criticalThreshold:75,parentId:"kpi-1",ownerId:"owner-1",createdAt:new Date,updatedAt:new Date},{id:"kpi-3",name:"解約率 (Churn)",description:"月次解約率",unit:"%",targetType:"lower_is_better",target:1,warningThreshold:1.5,criticalThreshold:2,parentId:"kpi-1",ownerId:"owner-2",createdAt:new Date,updatedAt:new Date}],K=[{id:"owner-1",name:"VP of Sales",email:"sales@example.com",role:"Vice President",department:"Sales"},{id:"owner-2",name:"VP of CS",email:"cs@example.com",role:"Vice President",department:"Customer Success"},{id:"owner-3",name:"M. Tanaka",email:"tanaka@example.com",role:"Manager",department:"Enterprise Sales"}],Y=({className:e=""})=>{let[t,r]=(0,a.useState)("kpi"),[i]=(0,a.useState)(F),[n]=(0,a.useState)(K);return(0,s.jsxs)("div",{className:`h-full flex flex-col bg-background-base ${e}`,children:[(0,s.jsxs)("header",{className:"p-6 border-b border-border-default bg-background-layer1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(g,{className:"w-6 h-6 text-accent-text"}),s.jsx("h1",{className:"text-2xl font-light text-foreground-primary",children:"設定"})]}),s.jsx("p",{className:"text-foreground-muted text-sm",children:"KPI定義、オーナー、閾値などのマスタデータを管理します"})]}),(0,s.jsxs)("div",{className:"flex border-b border-border-default bg-background-layer1",children:[s.jsx(J,{active:"kpi"===t,onClick:()=>r("kpi"),icon:s.jsx(B,{size:18}),children:"KPI定義"}),s.jsx(J,{active:"owners"===t,onClick:()=>r("owners"),icon:s.jsx(G,{size:18}),children:"オーナー管理"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:"kpi"===t?s.jsx(Q,{definitions:i,owners:n}):s.jsx(Z,{owners:n})})]})},J=({active:e,onClick:t,icon:r,children:a})=>(0,s.jsxs)("button",{onClick:t,className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e?"border-accent-primary text-accent-text":"border-transparent text-foreground-muted hover:text-foreground-primary"}`,children:[r,a]}),Q=({definitions:e,owners:t})=>{let r=e=>{if(!e)return"-";let r=t.find(t=>t.id===e);return r?.name||"-"},a=e.filter(e=>!e.parentId),i=t=>e.filter(e=>e.parentId===t);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-medium text-foreground-primary",children:"KPI定義一覧"}),(0,s.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg bg-accent-primary text-foreground-inverse hover:bg-accent-hover transition-colors",children:[s.jsx(H,{size:16}),"新規KPIを追加"]})]}),s.jsx("div",{className:"bg-background-layer1 rounded-xl border border-border-default overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-border-default bg-background-layer2",children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"KPI名"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"単位"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"目標"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"警告閾値"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"責任者"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-foreground-muted uppercase tracking-wider",children:"操作"})]})}),s.jsx("tbody",{className:"divide-y divide-border-subtle",children:a.map(e=>s.jsx(X,{kpi:e,children:i(e.id),getOwnerName:r,level:0},e.id))})]})})]})},X=({kpi:e,children:t,getOwnerName:r,level:i})=>{let[n,o]=(0,a.useState)(!0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{className:"hover:bg-background-layer2 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",style:{paddingLeft:`${24*i}px`},children:[t.length>0&&s.jsx("button",{onClick:()=>o(!n),className:"p-0.5 hover:bg-background-layer3 rounded transition-colors",children:s.jsx(N,{size:16,className:`text-foreground-muted transition-transform ${n?"rotate-90":""}`})}),0===t.length&&s.jsx("span",{className:"w-5"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground-primary",children:e.name}),e.description&&s.jsx("p",{className:"text-xs text-foreground-muted",children:e.description})]})]})}),s.jsx("td",{className:"px-4 py-3 text-sm text-foreground-secondary",children:e.unit}),s.jsx("td",{className:"px-4 py-3 text-sm text-foreground-secondary",children:void 0!==e.target?`${e.target}${e.unit}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-foreground-secondary",children:void 0!==e.warningThreshold?`${e.warningThreshold}${e.unit}`:"-"}),s.jsx("td",{className:"px-4 py-3 text-sm text-foreground-secondary",children:r(e.ownerId)}),s.jsx("td",{className:"px-4 py-3 text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{className:"p-1.5 text-foreground-muted hover:text-accent-text hover:bg-background-layer3 rounded transition-colors",children:s.jsx(U,{size:14})}),s.jsx("button",{className:"p-1.5 text-foreground-muted hover:text-severity-critical-text hover:bg-severity-critical-bg rounded transition-colors",children:s.jsx(O,{size:14})})]})})]}),n&&t.map(e=>s.jsx(X,{kpi:e,children:[],getOwnerName:r,level:i+1},e.id))]})},Z=({owners:e})=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-lg font-medium text-foreground-primary",children:"オーナー一覧"}),(0,s.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg bg-accent-primary text-foreground-inverse hover:bg-accent-hover transition-colors",children:[s.jsx(H,{size:16}),"オーナーを追加"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsxs)("div",{className:"p-4 bg-background-layer1 rounded-xl border border-border-default hover:border-border-active transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-accent-subtle flex items-center justify-center text-accent-text font-medium",children:e.name.charAt(0)}),(0,s.jsxs)("div",{className:"flex gap-1",children:[s.jsx("button",{className:"p-1.5 text-foreground-muted hover:text-accent-text hover:bg-background-layer3 rounded transition-colors",children:s.jsx(U,{size:14})}),s.jsx("button",{className:"p-1.5 text-foreground-muted hover:text-severity-critical-text hover:bg-severity-critical-bg rounded transition-colors",children:s.jsx(O,{size:14})})]})]}),s.jsx("h3",{className:"font-medium text-foreground-primary mb-1",children:e.name}),e.role&&s.jsx("p",{className:"text-sm text-foreground-secondary",children:e.role}),e.department&&s.jsx("p",{className:"text-xs text-foreground-muted mt-1",children:e.department}),e.email&&s.jsx("p",{className:"text-xs text-accent-text mt-2",children:e.email})]},e.id))})]}),ee=u("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),et=u("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),er=u("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),es=u("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ea=[{id:"kpi-1",name:"FY2025 全社売上目標",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:80,criticalThreshold:70,createdAt:new Date,updatedAt:new Date},{id:"kpi-2",name:"新規受注額 (ARR)",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:85,criticalThreshold:75,parentId:"kpi-1",createdAt:new Date,updatedAt:new Date},{id:"kpi-3",name:"Enterprise Sales",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:80,criticalThreshold:70,parentId:"kpi-2",createdAt:new Date,updatedAt:new Date},{id:"kpi-4",name:"SMB Sales",unit:"%",targetType:"higher_is_better",target:100,warningThreshold:85,criticalThreshold:75,parentId:"kpi-2",createdAt:new Date,updatedAt:new Date},{id:"kpi-5",name:"解約率 (Churn)",unit:"%",targetType:"lower_is_better",target:1,warningThreshold:1.5,criticalThreshold:2,parentId:"kpi-1",createdAt:new Date,updatedAt:new Date}],ei=[{id:"1",kpiDefinitionId:"kpi-1",period:"2025-W02",actualValue:82,enteredAt:new Date},{id:"2",kpiDefinitionId:"kpi-2",period:"2025-W02",actualValue:76,enteredAt:new Date},{id:"3",kpiDefinitionId:"kpi-3",period:"2025-W02",actualValue:65,enteredAt:new Date},{id:"4",kpiDefinitionId:"kpi-4",period:"2025-W02",actualValue:92,enteredAt:new Date},{id:"5",kpiDefinitionId:"kpi-5",period:"2025-W02",actualValue:1.2,enteredAt:new Date}],en=({className:e=""})=>{let[t,r]=(0,a.useState)("2025-W03"),[i,n]=(0,a.useState)({}),[o,l]=(0,a.useState)(new Set),d=(e,t)=>{n(r=>({...r,[e]:t})),l(t=>{let r=new Set(t);return r.delete(e),r})},c=e=>{l(t=>new Set(t).add(e))},x=(e,t)=>"lower_is_better"===e.targetType?t<=(e.target||0)?"healthy":t<=(e.warningThreshold||0)?"warning":"critical":t>=(e.target||0)?"healthy":t>=(e.warningThreshold||0)?"warning":"critical",u=e=>{let t=ei.find(t=>t.kpiDefinitionId===e);return t?.actualValue};return(0,s.jsxs)("div",{className:`h-full flex flex-col bg-background-base ${e}`,children:[s.jsx("header",{className:"p-6 border-b border-border-default bg-background-layer1",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(b,{className:"w-6 h-6 text-accent-text"}),s.jsx("h1",{className:"text-2xl font-light text-foreground-primary",children:"データ入力"})]}),s.jsx("p",{className:"text-foreground-muted text-sm",children:"KPI実績値を入力します。入力後、自動的に曖昧性チェックが実行されます。"})]}),(0,s.jsxs)("button",{onClick:()=>{l(new Set(ea.map(e=>e.id)))},className:"flex items-center gap-2 px-6 py-2.5 text-sm font-bold rounded-lg bg-accent-primary text-foreground-inverse hover:bg-accent-hover transition-colors",children:[s.jsx(ee,{size:18}),"すべて保存"]})]})}),s.jsx("div",{className:"p-4 border-b border-border-default bg-background-layer2",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium text-foreground-secondary",children:"対象期間:"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"appearance-none pl-10 pr-10 py-2 text-sm rounded-lg bg-background-layer1 border border-border-default text-foreground-primary focus:outline-none focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20 cursor-pointer",children:[s.jsx("option",{value:"2025-W03",children:"2025年 第3週 (1/13 - 1/19)"}),s.jsx("option",{value:"2025-W02",children:"2025年 第2週 (1/6 - 1/12)"}),s.jsx("option",{value:"2025-W01",children:"2025年 第1週 (12/30 - 1/5)"})]}),s.jsx(et,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-muted pointer-events-none"}),s.jsx(w,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-muted pointer-events-none"})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:ea.map(e=>{let t=i[e.id],r=u(e.id),a=t?parseFloat(t):void 0,n=void 0!==a?x(e,a):void 0,l=o.has(e.id),m=e.parentId?e.parentId.includes("kpi-2")?2:1:0;return s.jsx("div",{className:"p-4 bg-background-layer1 rounded-xl border border-border-default hover:border-border-active transition-colors",style:{marginLeft:`${24*m}px`},children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-foreground-primary truncate",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-foreground-muted",children:[(0,s.jsxs)("span",{children:["目標: ",e.target,e.unit]}),void 0!==r&&(0,s.jsxs)("span",{children:["前週: ",r,e.unit]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.1",value:t||"",onChange:t=>d(e.id,t.target.value),placeholder:r?.toString()||"0",className:`w-32 px-4 py-2.5 text-right text-lg font-medium rounded-lg border-2 bg-background-base text-foreground-primary focus:outline-none focus:ring-2 transition-all ${"critical"===n?"border-severity-critical-border focus:border-severity-critical-text focus:ring-severity-critical-border/20":"warning"===n?"border-severity-warning-border focus:border-severity-warning-text focus:ring-severity-warning-border/20":"healthy"===n?"border-severity-success-border focus:border-severity-success-text focus:ring-severity-success-border/20":"border-border-default focus:border-accent-primary focus:ring-accent-primary/20"}`}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-foreground-muted",children:e.unit})]}),n&&s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${"critical"===n?"bg-severity-critical-bg text-severity-critical-text":"warning"===n?"bg-severity-warning-bg text-severity-warning-text":"bg-severity-success-bg text-severity-success-text"}`,children:"healthy"===n?s.jsx(er,{size:16}):s.jsx(es,{size:16})}),s.jsx("button",{onClick:()=>c(e.id),disabled:!t||l,className:`px-4 py-2 text-sm font-medium rounded-lg border-2 transition-all ${l?"bg-severity-success-bg text-severity-success-text border-severity-success-border":t?"bg-accent-subtle text-accent-text border-accent-primary hover:bg-accent-primary hover:text-foreground-inverse":"bg-background-layer3 text-foreground-muted border-border-default cursor-not-allowed"}`,children:l?(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx(er,{size:14}),"保存済"]}):"保存"})]})]})},e.id)})})})]})},eo={id:"root",label:"FY2025 全社売上目標",value:"82%",status:"warning",owner:"CEO",ambiguityScore:12,children:[{id:"sales",label:"新規受注額 (ARR)",value:"76%",status:"critical",owner:"VP of Sales",ambiguityScore:45,children:[{id:"ent_sales",label:"Enterprise Sales",value:"65%",status:"critical",owner:"M. Tanaka",ambiguityScore:68,isTarget:!0},{id:"smb_sales",label:"SMB Sales",value:"92%",status:"healthy",owner:"S. Sato",ambiguityScore:5}]},{id:"churn",label:"解約率 (Churn)",value:"1.2%",status:"warning",owner:"VP of CS",ambiguityScore:24,children:[{id:"onboarding",label:"Onboarding Success",value:"88%",status:"healthy",owner:"K. Suzuki",ambiguityScore:8},{id:"product_bug",label:"Product Quality",value:"N/A",status:"warning",owner:"PdM Group",ambiguityScore:35}]}]},el=`# Enterprise Sales 週次報告 (2025-10-12)

## 進捗状況
今週は全体的に厳しい状況が続いている。
主な要因としては、競合他社の攻勢が強まっていることと、
季節性の要因で顧客の反応が鈍いことが挙げられる。

## 見込み案件
A社については、概ね順調に進んでおり、来月には受注できる見込み。
B社は担当者が忙しそうで連絡がつきにくいが、引き続きフォローする。
C社はロストの可能性が高い。

## 来週の予定
チーム全体で気合いを入れ直し、架電数を増やしてリカバリーを図る。
既存顧客へのアップセルも検討中。`,ed={reportId:"ent-sales-weekly-001",items:[{id:"1",pattern:"shallow_analysis",severity:"critical",message:"要因分析が定性的すぎます。「厳しい」「攻勢」「反応が鈍い」を定量化してください。",rationale:"定性的な表現のみで、具体的な数値や比較データがありません。",suggestion:"例: 競合A社の値引き率、商談化率の前月比増減などを提示",location:{range:{start:4,end:4,text:"今週は全体的に厳しい状況が続いている。"}},status:"open",detectedAt:new Date},{id:"2",pattern:"lack_of_quantification",severity:"warning",message:"「概ね順調」「見込み」の定義が不明瞭です。フェーズ定義と受注確率(%)を記載してください。",rationale:"「順調」は主観的な表現であり、客観的な評価基準が示されていません。",suggestion:"例: Phase 4 (Selection), Probability 80%",location:{range:{start:9,end:9,text:"A社については、概ね順調に進んでおり"}},status:"open",detectedAt:new Date},{id:"3",pattern:"unclear_action",severity:"critical",message:"「気合い」「リカバリー」はアクションではありません。Who/When/Whatに分解してください。",rationale:"アクションプランとして具体性に欠け、実行可能性が判断できません。",suggestion:"例: メンバー3名が、金曜日までに、休眠リスト50件に対し架電を行う",location:{range:{start:14,end:14,text:"チーム全体で気合いを入れ直し"}},status:"open",detectedAt:new Date}],score:45,patternCounts:{shallow_analysis:1,missing_coverage:0,lack_of_quantification:1,unclear_action:1,fact_interpretation_mixing:0},auditedAt:new Date,status:"completed"};function ec(){let[e,t]=(0,a.useState)("dashboard"),[r,i]=(0,a.useState)(null),n=function(e){let[t,r]=(0,a.useState)(e?.items??[]),s=(0,a.useMemo)(()=>q(t),[t]),[i,n]=(0,a.useState)({status:"open",pattern:"all",severity:"all"}),[o,l]=(0,a.useState)(!1),d=(0,a.useMemo)(()=>t.filter(e=>(!i.status||"all"===i.status||e.status===i.status)&&(!i.pattern||"all"===i.pattern||e.pattern===i.pattern)&&(!i.severity||"all"===i.severity||e.severity===i.severity)),[t,i]),c=(0,a.useMemo)(()=>t.filter(e=>"open"===e.status).length,[t]),x=(0,a.useCallback)(async(e,t)=>{l(!0);try{r(r=>r.map(r=>r.id===e?{...r,status:"dismissed",dismissReason:t}:r))}finally{l(!1)}},[]);return{items:d,allItems:t,openCount:c,score:s,filter:i,isProcessing:o,setFilter:n,dismiss:x,resolve:(0,a.useCallback)(async e=>{l(!0);try{r(t=>t.map(t=>t.id===e?{...t,status:"resolved",resolvedAt:new Date}:t))}finally{l(!1)}},[]),reopen:(0,a.useCallback)(e=>{r(t=>t.map(t=>t.id===e?{...t,status:"open",resolvedAt:void 0,dismissReason:void 0}:t))},[]),updateResult:(0,a.useCallback)(e=>{r(e.items)},[])}}(ed),o=(0,a.useMemo)(()=>n.allItems.filter(e=>"open"===e.status).map(e=>e.location.range.start),[n.allItems]);return(0,s.jsxs)("div",{className:"flex h-screen bg-background-base text-foreground-primary overflow-hidden",children:[s.jsx(y,{currentView:e,onNavigate:t}),(0,s.jsxs)("main",{className:"flex-1 overflow-hidden",children:["dashboard"===e&&s.jsx(C,{kpiData:eo,onNavigate:t}),"editor"===e&&s.jsx(R,{fileName:"Enterprise_Sales_Weekly.md",owner:"M. Tanaka",content:el,ambiguityPercent:100-n.score,warningLines:o,selectedLine:r,onLineClick:e=>{i(e)},sidePanel:s.jsx(P,{auditLog:n,title:"NEUMANN_AUDIT_LOG",className:"h-full rounded-none border-0"})}),"data-entry"===e&&s.jsx(en,{}),"settings"===e&&s.jsx(Y,{})]})]})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(9510);r(4315);let a={title:"neumann - AI-Driven Report Assistant",description:"曖昧性を排除し、経営会議の生産性を最大化する"};function i({children:e}){return s.jsx("html",{lang:"ja",children:s.jsx("body",{className:"min-h-screen bg-background-base text-foreground-primary",children:e})})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/lemmaitt/workspace/obsidian_vault/docs/03_project/00_thedomainai/neumann/src/app/page.tsx#default`)},4315:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[819],()=>r(2150));module.exports=s})();