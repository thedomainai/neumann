# DEC-008: ユーザー負荷軽減のための UI/UX 戦略

## ステータス

**Accepted** - 2025-02-22

## 背景

neumann の価値は「曖昧性の徹底的な排除」にあるが、すべての曖昧性を厳密に指摘すると、ユーザー（マネージャー）が overwhelm され、継続利用されなくなるリスクがある。

この「曖昧性の完全排除（高品質）」と「ユーザー体験の快適さ（継続利用）」のトレードオフを、UI/UX の設計で解決する必要がある。

## 問題定義

**主要な論点**:
1. **いつ介入するか**（タイミング）
2. **何を指摘するか**（フィルタリング）
3. **どう伝えるか**（コミュニケーション）
4. **どう改善させるか**（行動促進）
5. **どう学習させるか**（成長支援）

詳細な論点分解と仮説検証プロセスは [docs/issues/001-ambiguity-user-load-tradeoff.md](../issues/001-ambiguity-user-load-tradeoff.md) を参照。

## 決定内容

v1.0 MVP では、以下の2つの施策を実装する：

### 1. Progressive Disclosure（段階的な開示）

**概要**: 初期は Critical のみ表示し、ユーザーが慣れてきたら Warning、さらに Info を段階的に開示する。

**実装方針**:
- Audit Panel のデフォルトフィルタを「Critical のみ」に設定
- ユーザーが手動で「すべて表示」に切り替え可能
- 初回表示時にヒントメッセージを表示（「まずは重要な問題のみ表示します」）

**期待される効果**:
- 初期の overwhelm を回避（離脱率 50% → 20% を想定）
- 段階的な成長実感（NPS +20pt を想定）
- 最終的には高品質なレポート（平均スコア 70 → 85 を想定）

**実装コスト**: 低（既存のフィルタ機能を拡張、1週間以内）

### 2. Visual Feedback（視覚的フィードバック - 基本版）

**概要**: 進捗と成長を視覚化し、モチベーションを維持する。

**v1.0 実装範囲**:
- スコア推移グラフ（週次）
- 前回との差分表示（「先週より +15pt」）

**期待される効果**:
- 継続利用率の向上（2週目アクセス率 50% → 80% を想定）
- モチベーション維持（「やらされている」→「成長している」）

**実装コスト**: 中（グラフライブラリ追加、2〜3週間）

## 検討した代替案

| 仮説 | 初期負荷軽減 | 学習効果 | 長期品質 | 実装コスト | 総合評価 | v1.0 採用 |
|------|------------|---------|---------|-----------|---------|----------|
| Progressive Disclosure | ◎ | ○ | ○ | 低 | ★★★★☆ | ✅ Yes |
| Context-Aware Suggestion | ○ | △ | ○ | 高 | ★★★☆☆ | ❌ No (v1.2+) |
| Guided Improvement | △ | ◎ | ◎ | 中 | ★★★★★ | ❌ No (v1.1) |
| Visual Feedback | ○ | △ | ○ | 中 | ★★★★☆ | ✅ Yes (基本版) |

**Context-Aware Suggestion（v1.2 以降に延期）**:
- ユーザーの反応パターンに応じて伝え方を最適化
- ML/ルールエンジンが必要で実装コストが高い
- v1.0 では却下率データが不足しているため実装不可

**Guided Improvement（v1.1 に延期）**:
- 穴埋め形式の改善ガイドで学習効果を最大化
- 学習効果は最高だが、初期負荷軽減効果は低い
- v1.0 では継続利用を優先し、v1.1 で段階的に導入

## 影響と結果

### プロダクトへの影響

**UI コンポーネント**:
- `src/features/editor/components/AuditPanel.tsx` の修正が必要
- デフォルトフィルタの変更
- 初回ヒントメッセージの追加

**新規コンポーネント（Visual Feedback）**:
- スコア推移グラフコンポーネント
- 前回比表示コンポーネント
- データ保存（localStorage または Supabase）

### ユーザー体験への影響

**ポジティブな影響**:
- 初回体験での overwhelm を大幅に軽減
- 成長実感により継続利用率が向上
- 段階的な学習により、最終的な品質は維持

**潜在的なリスク**:
- Critical のみ表示することで、重要度の低い問題が放置される可能性
- ユーザーが「すべて表示」に切り替えないまま使い続ける可能性

**リスク緩和策**:
- 定期的に「すべて表示」への切り替えを促すリマインダー（v1.1 で検討）
- Critical 以外の問題が一定数以上蓄積された場合に通知（v1.1 で検討）

### 技術的な影響

**データモデル**:
- 既存の `AuditFinding` 型に `severity: 'critical' | 'warning' | 'info'` が既に存在
- スコア推移データの保存先を決定する必要あり（localStorage vs Supabase）

**パフォーマンス**:
- フィルタリングは既存機能の拡張のため、パフォーマンスへの影響は最小限
- グラフ描画のレンダリングコストは要検証（大量データ時）

### ビジネスへの影響

**成功指標**:
- 初回完了率（オンボーディング完了 → 初回レポート提出）: 目標 60% 以上
- 2週目継続率: 目標 70% 以上
- 平均スコア（4週目時点）: 目標 80 以上

**検証方法**:
- v1.0 リリース後、実データで効果を測定
- v1.1 で最適化（Progressive Disclosure の切り替えタイミング等）

## 関連ドキュメント

- [論点分析: 曖昧性の排除とユーザー負荷のトレードオフ](../issues/001-ambiguity-user-load-tradeoff.md)
- [User Stories](../02_product/features/USER_STORIES.md) - US-013, US-014 で具体化
- [Architecture](../02_product/architecture.md) - UI コンポーネント設計
- [Roadmap](../02_product/roadmap.md) - v1.0, v1.1 のマイルストーン

## 次のアクション

1. **即座に実行（v1.0）**:
   - [ ] US-013, US-014 を `USER_STORIES.md` に追加
   - [ ] `AuditPanel.tsx` に Progressive Disclosure を実装
   - [ ] Visual Feedback（基本版）の設計と実装

2. **次のイテレーション（v1.1）**:
   - [ ] Guided Improvement の実装
   - [ ] ユーザーテスト（Progressive Disclosure の効果測定）

3. **将来的に検討（v1.2+）**:
   - [ ] Context-Aware Suggestion の実装
   - [ ] 達成バッジシステムの検討

## 未解決の論点

1. **Progressive Disclosure の切り替えタイミング**:
   - 「3回目から Warning を表示」は適切か？
   - ユーザーの成長速度に個人差があるのでは？
   - → v1.0 で実データを収集し、v1.1 で最適化

2. **「学習効果」と「生産性」のバランス**:
   - Guided Improvement は学習効果が高いが、時間がかかる
   - 「急いでいる時」と「学習したい時」で UI を切り替えるべき？
   - → v1.1 でモード切り替え機能を検討

3. **チーム内の比較・競争の是非**:
   - Visual Feedback でチーム内ランキングを表示すべきか？
   - 健全な競争 vs プレッシャー・ハラスメント
   - → CEO へのインタビューで組織文化を確認

## メタ情報

- **決定日**: 2025-02-22
- **決定者**: AI（Human 承認）
- **影響範囲**: UI/UX, User Experience, Product Strategy
- **レビュー予定**: v1.0 リリース後（実データ収集後）
